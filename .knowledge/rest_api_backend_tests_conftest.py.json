{"is_source_file": true, "format": "Python", "description": "This is a test configuration script for a FastAPI application using pytest fixtures. It sets up environment variables, in-memory user data, dependency overrides, and provides test clients and tokens for API testing.", "external_files": ["src.api.main", "src.api.routes_v1", "src.api.security", "src.api.config", "src.api.database"], "external_methods": ["src.api.main.create_app", "src.api.routes_v1.get_user_by_username", "src.api.routes_v1.verify_password", "src.api.security.create_access_token"], "published": [], "classes": [{"name": "types.SimpleNamespace", "description": "A simple container for user attributes, used here to simulate user data."}], "methods": [{"name": "_ensure_test_env()", "description": "Sets environment variables for testing, including JWT secret and token expiration.", "scope": "", "scopeKind": ""}, {"name": "seeded_user()", "description": "Fixture that creates a seeded in-memory user object with predefined attributes.", "scope": "", "scopeKind": ""}, {"name": "users_store(seeded_user)", "description": "In-memory store representing user database, mapping usernames to user objects.", "scope": "", "scopeKind": ""}, {"name": "app_overridden(users_store)", "description": "Creates the FastAPI app with dependencies overridden for isolated testing.", "scope": "", "scopeKind": ""}, {"name": "TestClient client(app_overridden)", "description": "Provides a FastAPI TestClient instance for testing the API endpoints.", "scope": "", "scopeKind": ""}, {"name": "str bearer_token(seeded_user)", "description": "Generates a valid JWT bearer token for the seeded user for use in authorized requests.", "scope": "", "scopeKind": ""}, {"name": "Generator[Session,None,None] _dummy_get_db()", "scope": "app_overridden", "scopeKind": "function", "description": "unavailable"}, {"name": "_get_user_by_username(_db, username: str)", "scope": "app_overridden", "scopeKind": "function", "description": "unavailable"}, {"name": "bool _verify_password(plain: str, _password_hash: str)", "scope": "app_overridden", "scopeKind": "function", "description": "unavailable"}, {"name": "to_profile_dict()", "scope": "seeded_user", "scopeKind": "function", "description": "unavailable"}], "calls": ["create_app()", "routes_v1.get_user_by_username", "routes_v1.verify_password", "create_access_token"], "search-terms": ["test configuration fixtures", "FastAPI dependency overrides", "pytest fixture setup", "in-memory user store", "JWT token test fixture"], "state": 2, "file_id": 12, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "_dummy_get_db", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def _dummy_get_db() -> Generator[Session, None, None]:$/", "file": true, "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()", "scope": "app_overridden", "scopeKind": "function"}, {"_type": "tag", "name": "_ensure_test_env", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def _ensure_test_env():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_get_user_by_username", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def _get_user_by_username(_db, username: str):$/", "file": true, "language": "Python", "kind": "function", "signature": "(_db, username: str)", "scope": "app_overridden", "scopeKind": "function"}, {"_type": "tag", "name": "_verify_password", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def _verify_password(plain: str, _password_hash: str) -> bool:$/", "file": true, "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(plain: str, _password_hash: str)", "scope": "app_overridden", "scopeKind": "function"}, {"_type": "tag", "name": "app_overridden", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def app_overridden(users_store):$/", "language": "Python", "kind": "function", "signature": "(users_store)"}, {"_type": "tag", "name": "bearer_token", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def bearer_token(seeded_user) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(seeded_user)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def client(app_overridden) -> TestClient:$/", "language": "Python", "typeref": "typename:TestClient", "kind": "function", "signature": "(app_overridden)"}, {"_type": "tag", "name": "seeded_user", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def seeded_user():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "to_profile_dict", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def to_profile_dict():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "seeded_user", "scopeKind": "function"}, {"_type": "tag", "name": "users_store", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def users_store(seeded_user):$/", "language": "Python", "kind": "function", "signature": "(seeded_user)"}], "hash": "aec13e9bf8d794ab7f467e477a2031f1", "format-version": 4, "code-base-name": "rest_api_backend", "filename": "rest_api_backend/tests/conftest.py", "revision_history": [{"29": ""}]}