{"is_source_file": true, "format": "Python", "description": "This file contains pytest configuration, fixtures for testing a FastAPI application, and code to override dependencies for testing purposes, such as in-memory stores and environment setup warnings.", "external_files": ["src.api.main", "src.api.routes_v1", "src.api.security", "src.api.database"], "external_methods": ["src.api.main.create_app", "src.api.routes_v1.get_user_by_username", "src.api.security.create_access_token", "src.api.database.get_db"], "published": ["pytest", "types", "datetime", "timedelta", "timezone", "pytest.fixture", "pytest.fixture", "pytest.fixture", "pytest.fixture", "pytest.fixture", "pytest.fixture"], "classes": [], "methods": [{"name": "_ensure_test_env()", "description": "Sets environment variables and configurations to ensure deterministic and isolated test execution.", "scope": "", "scopeKind": ""}, {"name": "seeded_user()", "description": "Creates a mock in-memory user object with necessary fields for tests, including methods to produce profile dicts.", "scope": "", "scopeKind": ""}, {"name": "users_store(seeded_user)", "description": "Provides an in-memory dictionary acting as a user database.", "scope": "", "scopeKind": ""}, {"name": "app_overridden(users_store)", "description": "Builds the FastAPI app with dependency overrides for testing, replacing external dependencies with in-memory or dummy implementations.", "scope": "", "scopeKind": ""}, {"name": "TestClient client(app_overridden)", "description": "Creates a FastAPI TestClient instance with dependencies overridden for testing purposes.", "scope": "", "scopeKind": ""}, {"name": "str bearer_token(seeded_user)", "description": "Generates a valid JWT bearer token for the seeded user for use in authenticated test requests.", "scope": "", "scopeKind": ""}, {"name": "Generator[Session,None,None] _dummy_get_db()", "scope": "app_overridden", "scopeKind": "function", "description": "unavailable"}, {"name": "_get_user_by_username(_db, username: str)", "scope": "app_overridden", "scopeKind": "function", "description": "unavailable"}, {"name": "bool _verify_password(plain: str, _password_hash: str)", "scope": "app_overridden", "scopeKind": "function", "description": "unavailable"}, {"name": "to_profile_dict()", "scope": "seeded_user", "scopeKind": "function", "description": "unavailable"}], "calls": ["create_access_token", "get_user_by_username", "verify_password", "create_app"], "search-terms": ["pytest fixtures", "dependency overrides", "FastAPI testing", "mock user", "JWT token generation", "test environment setup"], "state": 2, "file_id": 12, "knowledge_revision": 35, "git_revision": "341b27fce15d84cc813094a133b3cc8213d13ab8", "revision_history": [{"29": ""}, {"35": "341b27fce15d84cc813094a133b3cc8213d13ab8"}], "ctags": [{"_type": "tag", "name": "_dummy_get_db", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def _dummy_get_db() -> Generator[Session, None, None]:$/", "file": true, "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()", "scope": "app_overridden", "scopeKind": "function"}, {"_type": "tag", "name": "_ensure_test_env", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def _ensure_test_env():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_get_user_by_username", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def _get_user_by_username(_db, username: str):$/", "file": true, "language": "Python", "kind": "function", "signature": "(_db, username: str)", "scope": "app_overridden", "scopeKind": "function"}, {"_type": "tag", "name": "_verify_password", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def _verify_password(plain: str, _password_hash: str) -> bool:$/", "file": true, "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(plain: str, _password_hash: str)", "scope": "app_overridden", "scopeKind": "function"}, {"_type": "tag", "name": "app_overridden", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def app_overridden(users_store):$/", "language": "Python", "kind": "function", "signature": "(users_store)"}, {"_type": "tag", "name": "bearer_token", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def bearer_token(seeded_user) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(seeded_user)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def client(app_overridden) -> TestClient:$/", "language": "Python", "typeref": "typename:TestClient", "kind": "function", "signature": "(app_overridden)"}, {"_type": "tag", "name": "seeded_user", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def seeded_user():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "to_profile_dict", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^    def to_profile_dict():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "seeded_user", "scopeKind": "function"}, {"_type": "tag", "name": "users_store", "path": "/home/kavia/workspace/code-generation/secure-api-gateway-226162-226171/rest_api_backend/tests/conftest.py", "pattern": "/^def users_store(seeded_user):$/", "language": "Python", "kind": "function", "signature": "(seeded_user)"}], "hash": "a42bb82dc481effe8246f9dac23f6fbd", "format-version": 4, "code-base-name": "rest_api_backend", "filename": "rest_api_backend/tests/conftest.py"}